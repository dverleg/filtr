!function(){this.VanillaFilter=function(){if(this.options={debug:!1,vanillaTrigger:"vanillatrigger",vanillaTarget:"vanillatarget",vanillaSingleFilter:!1,vanillaDisplayType:"block",vanillaFallbackSelector:".vanilla-no-results",vanillaCallbackFunction:function(){}},arguments[0]&&"object"==typeof arguments[0]&&(this.options=_extendDefaults(this.options,arguments[0])),!0===this.options.debug&&console.log("vanillafilter: Found options: [",this.options,"]"),this.vanillaFallback=document.querySelectorAll(this.options.vanillaFallbackSelector),this.filterTrigger=document.querySelectorAll("[data-"+this.options.vanillaTrigger+"]"),this.filterValues=[],this.filterTrigger){var l=this;Object.keys(l.filterTrigger).map(function(e){return l.bind(l.filterTrigger[e],_getTriggerHandler(l.filterTrigger[e]))})}this.vanillaFallback&&(!0===this.options.debug&&console.log("vanillafilter: Found fallback element(s): [",this.vanillaFallback,"], hiding it on initialisation"),this.fallback(!1))},VanillaFilter.prototype.bind=function(l,e){return!0===this.options.debug&&console.log("vanillafilter: Bound filterTrigger to our vanillafilter: [",l,"] with handler: [",e,"]"),l.addEventListener(e,this.triggerFilter.bind(this),!0)},VanillaFilter.prototype.triggerFilter=function(l){l.preventDefault();var e=this,t=l.target;e.filterValues=_getFilterValues(t,e.options.vanillaTrigger,e.filterValues,e.options.vanillaSingleFilter),!0===e.options.debug&&console.log("vanillafilter: triggerFilter called for: [",t,"]. filterValues: [",e.filterValues,"] added to activeFilters");var i=Object.keys(document.querySelectorAll("[data-"+e.options.vanillaTarget+"]")).map(function(l){return document.querySelectorAll("[data-"+e.options.vanillaTarget+"]")[l]}),a=[],n=[];i.filter(function(l,t){var i=!1;0===e.filterValues.length?(!0===e.options.debug&&0===t&&console.log("vanillafilter: No filter values found, triggering display: [",e.options.vanillaDisplayType,"] for all targets"),l.style.display=e.options.vanillaDisplayType):(e.filterValues.filter(function(t){var a=_getTargetValues(l,e.options.vanillaTarget);i||(i=a.includes(t))}),i?(!0===e.options.debug&&console.log("vanillafilter: Set display: [",e.options.vanillaDisplayType,"] for targetElement: [",l,"]. Pushing to results: [",a,"]"),l.style.display=e.options.vanillaDisplayType,a.push(l),_vanillaCallback(e.options.vanillaCallbackFunction,l,e.options.debug)):(l.style.display="none",n.push(l)))}),!0===e.options.debug&&console.log("vanillafilter: Hiding target elements: [",n,"]"),this.vanillaFallback.length&&this.fallback(e.filterValues.length&&!a.length)},VanillaFilter.prototype.fallback=function(l){var e=this,t=l?"block":"none";Object.keys(e.vanillaFallback).map(function(l){e.vanillaFallback[l].style.display=t})},_extendDefaults=function(l,e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);return l},_getTriggerHandler=function(l){return["SELECT","INPUT"].includes(l.tagName)?"change":"click"},_getFilterValues=function(l,e,t,i){var a,n,o=t;return["SELECT","INPUT"].includes(l.tagName)?(a=l.value,n=l.getAttribute("type")):a=l.dataset[e],""===a?o=[]:["SELECT"].includes(l.tagName)||"radio"===n||!0===i?(o=[],o.push(a)):t.includes(a)?o.splice(o.indexOf(a),1):o.push(a),o},_getTargetValues=function(l,e){return l.dataset[e].replace(/\s/g,"").split(",").filter(Boolean)},_vanillaCallback=function(l,e,t){if("function"==typeof l)return!0===t&&console.log("vanillafilter: vanillaCallbackFunction called for element: [",e,"]"),l(e)}}();