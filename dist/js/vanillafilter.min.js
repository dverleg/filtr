!function(){this.VanillaFilter=function(){if(this.options={debug:!1,vanillaTrigger:"vanillatrigger",vanillaTarget:"vanillatarget",vanillaDisplayType:"block",vanillaFallbackSelector:".vanilla-no-results",vanillaCallbackFunction:function(){}},arguments[0]&&"object"==typeof arguments[0]&&(this.options=_extendDefaults(this.options,arguments[0])),!0===this.options.debug&&console.log("vanillafilter: Found options: [",this.options,"]"),this.vanillaFallback=document.querySelectorAll(this.options.vanillaFallbackSelector),this.filterTrigger=document.querySelectorAll("[data-"+this.options.vanillaTrigger+"]"),this.filterValues=[],this.filterTrigger){var l=this;Object.keys(l.filterTrigger).map(function(t){return l.bind(l.filterTrigger[t],_getTriggerHandler(l.filterTrigger[t]))})}this.vanillaFallback&&(!0===this.options.debug&&console.log("vanillafilter: Found fallback element(s): [",this.vanillaFallback,"], hiding it on initialisation"),this.fallback(!1))},VanillaFilter.prototype.bind=function(l,t){return!0===this.options.debug&&console.log("vanillafilter: Bound filterTrigger to our vanillafilter: [",l,"] with handler: [",t,"]"),l.addEventListener(t,this.triggerFilter.bind(this),!0)},VanillaFilter.prototype.triggerFilter=function(l){l.preventDefault();var t=this,e=l.target;t.filterValues=_getFilterValues(e,t.options.vanillaTrigger,t.filterValues),!0===t.options.debug&&console.log("vanillafilter: triggerFilter called for: [",e,"]. filterValues: [",t.filterValues,"] added to activeFilters");var i=Object.keys(document.querySelectorAll("[data-"+t.options.vanillaTarget+"]")).map(function(l){return document.querySelectorAll("[data-"+t.options.vanillaTarget+"]")[l]}),a=[],n=[];i.filter(function(l,e){var i=!1;0===t.filterValues.length?(!0===t.options.debug&&0===e&&console.log("vanillafilter: No filter values found, triggering display: [",t.options.vanillaDisplayType,"] for all targets"),l.style.display=t.options.vanillaDisplayType):(t.filterValues.filter(function(e){var a=_getTargetValues(l,t.options.vanillaTarget);i||(i=a.includes(e))}),i?(!0===t.options.debug&&console.log("vanillafilter: Set display: [",t.options.vanillaDisplayType,"] for targetElement: [",l,"]. Pushing to results: [",a,"]"),l.style.display=t.options.vanillaDisplayType,a.push(l),_vanillaCallback(t.options.vanillaCallbackFunction,l,t.options.debug)):(l.style.display="none",n.push(l)))}),!0===t.options.debug&&console.log("vanillafilter: Hiding target elements: [",n,"]"),this.vanillaFallback.length&&this.fallback(t.filterValues.length&&!a.length)},VanillaFilter.prototype.fallback=function(l){var t=this,e=l?"block":"none";Object.keys(t.vanillaFallback).map(function(l){t.vanillaFallback[l].style.display=e})},_extendDefaults=function(l,t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);return l},_getTriggerHandler=function(l){return["SELECT","INPUT"].includes(l.tagName)?"change":"click"},_getFilterValues=function(l,t,e){var i,a,n=e;return["SELECT","INPUT"].includes(l.tagName)?(i=l.value,a=l.getAttribute("type")):i=l.dataset[t],""===i?n=[]:["SELECT"].includes(l.tagName)||"radio"===a?(n=[],n.push(i)):e.includes(i)?n.splice(n.indexOf(i),1):n.push(i),n},_getTargetValues=function(l,t){return l.dataset[t].replace(/\s/g,"").split(",").filter(Boolean)},_vanillaCallback=function(l,t,e){if("function"==typeof l)return!0===e&&console.log("vanillafilter: vanillaCallbackFunction called for element: [",t,"]"),l(t)}}();